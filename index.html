<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pizzeria del Corso ‚Äì Menu</title>
  <meta name="description" content="Pizzeria del Corso ‚Äì menu pizze e entr√©es.">

  <style>
    :root{
      --bg:#f3e3be;        /* carta pergamena */
      --bg-dark:#e2cf9e;
      --card:#fff8e5;
      --ink:#3b2412;
      --muted:#7b5b3b;
      --accent:#c8452c;
      --accent-soft:#f8d1c7;
      --green:#4c7a3b;
      --divider:#d3ba8f;
      --radius:18px;
      --shadow:0 10px 25px rgba(0,0,0,.18);
      --maxw:720px;
    }

    *{box-sizing:border-box;margin:0;padding:0;}
    html,body{
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:radial-gradient(circle at top,var(--bg-dark),var(--bg));
      color:var(--ink);
      line-height:1.6;
    }
    img{max-width:100%;display:block;}
    a{text-decoration:none;color:inherit;}

    .page{
      max-width:var(--maxw);
      margin:0 auto;
      padding:12px 12px 32px;
    }

    /* HEADER */
    header{
      display:flex;
      align-items:center;
      gap:12px;
      padding:10px 10px 6px;
    }
    .logo-wrap{
      width:60px;height:60px;
      border-radius:50%;
      overflow:hidden;
      box-shadow:0 8px 20px rgba(0,0,0,.3);
      background:#000;
      flex-shrink:0;
    }
    .brand-title{
      font-weight:800;
      letter-spacing:.14em;
      text-transform:uppercase;
      font-size:.85rem;
    }
    .brand-sub{
      font-size:.8rem;
      color:var(--muted);
    }

    /* HERO / INTRO */
    .intro{
      margin-top:10px;
      background:var(--card);
      border-radius:var(--radius);
      padding:12px 14px;
      box-shadow:var(--shadow);
      border:1px solid rgba(255,255,255,.7);
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:3px 9px;
      border-radius:999px;
      background:var(--accent-soft);
      color:var(--accent);
      font-size:.75rem;
      font-weight:600;
      text-transform:uppercase;
      letter-spacing:.12em;
      margin-bottom:6px;
    }
    .intro h1{
      font-size:1.25rem;
      text-transform:uppercase;
      letter-spacing:.12em;
    }
    .intro h1 span{
      color:var(--accent);
    }
    .intro p{
      font-size:.9rem;
      color:var(--muted);
      margin-top:4px;
    }

    .info-row{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin-top:8px;
      font-size:.78rem;
      color:var(--muted);
    }

    /* CONTROLLI */
    .controls{
      margin-top:16px;
      background:rgba(255,248,229,.7);
      border-radius:var(--radius);
      padding:10px 12px;
      border:1px solid var(--divider);
    }
    .controls h2{
      font-size:.9rem;
      text-transform:uppercase;
      letter-spacing:.14em;
      margin-bottom:4px;
    }
    .controls p{
      font-size:.8rem;
      color:var(--muted);
      margin-bottom:6px;
    }
    .filters{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin-bottom:6px;
    }
    .filter-btn{
      border-radius:999px;
      padding:4px 8px;
      border:1px solid var(--divider);
      font-size:.75rem;
      text-transform:uppercase;
      letter-spacing:.1em;
      background:#fff3d9;
      cursor:pointer;
    }
    .filter-btn.active{
      background:var(--ink);
      color:#fff8e5;
      border-color:var(--ink);
    }
    .search-box{
      margin-top:4px;
      position:relative;
    }
    .search-box input{
      width:100%;
      border-radius:999px;
      border:1px solid var(--divider);
      padding:6px 10px 6px 26px;
      font-size:.82rem;
      background:#fff8e8;
    }
    .search-icon{
      position:absolute;
      top:50%;left:8px;
      transform:translateY(-50%);
      font-size:.75rem;
      opacity:.6;
    }

    .admin-toggle{
      margin-top:6px;
      font-size:.78rem;
      color:var(--muted);
      display:flex;
      align-items:center;
      gap:4px;
    }

    /* SEZIONI MENU */
    .section-label{
      margin-top:18px;
      font-size:.8rem;
      text-transform:uppercase;
      letter-spacing:.18em;
      color:var(--muted);
    }
    .divider{
      height:1px;
      background:linear-gradient(90deg,rgba(0,0,0,.25),transparent);
      margin:4px 0 10px;
    }

    .menu-list{
      display:flex;
      flex-direction:column;
      gap:8px;
    }

    .item{
      background:var(--card);
      border-radius:var(--radius);
      padding:8px 9px;
      border:1px solid rgba(255,255,255,.8);
      box-shadow:0 6px 16px rgba(0,0,0,.15);
      position:relative;
    }
    .item.unavailable{
      opacity:.45;
    }

    .name-row{
      display:flex;
      justify-content:space-between;
      gap:6px;
      align-items:flex-start;
      font-size:.9rem;
    }
    .name{
      font-weight:700;
      text-transform:uppercase;
      letter-spacing:.08em;
    }
    .item.unavailable .name::after{
      content:" ¬∑ non disponible";
      font-size:.7rem;
      color:var(--accent);
    }
    .price{
      font-weight:700;
      color:var(--accent);
      white-space:nowrap;
      font-size:.85rem;
    }
    .desc{
      margin-top:2px;
      font-size:.8rem;
      color:var(--muted);
    }
    .tags{
      margin-top:4px;
      display:flex;
      flex-wrap:wrap;
      gap:4px;
    }
    .tag{
      font-size:.7rem;
      text-transform:uppercase;
      letter-spacing:.1em;
      padding:2px 6px;
      border-radius:999px;
      border:1px solid var(--divider);
      background:#f5e2b5;
    }
    .tag.veg{
      border-color:var(--green);
      color:#264020;
      background:#e4f4dd;
    }
    .tag.hot{
      border-color:var(--accent);
      color:var(--accent);
      background:#ffe1d7;
    }
    .tag.new{
      border-color:#f1c40f;
      color:#8a6b00;
      background:#fff6cd;
    }

    .admin-bar{
      margin-top:6px;
      padding-top:4px;
      border-top:1px dashed rgba(0,0,0,.16);
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:6px;
      font-size:.75rem;
      color:var(--muted);
    }
    .admin-bar button{
      font-size:.7rem;
      text-transform:uppercase;
      letter-spacing:.1em;
      padding:3px 6px;
      border-radius:999px;
      border:1px solid var(--divider);
      background:#fff3d0;
      cursor:pointer;
    }
    .admin-bar button:hover{
      background:#ffe4aa;
    }

    footer{
      margin-top:26px;
      padding-top:10px;
      border-top:1px solid var(--divider);
      font-size:.78rem;
      color:var(--muted);
      display:flex;
      flex-direction:column;
      gap:4px;
    }

    @media (min-width:768px){
      .page{padding:20px 0 40px;}
    }
  </style>
</head>
<body>
  <div class="page">
    <!-- HEADER -->
    <header>
      <div class="logo-wrap">
        <!-- Cambia src con il nome reale del file logo -->
        <img src="logo-pizzeria-del-corso.png" alt="Pizzeria del Corso">
      </div>
      <div>
        <div class="brand-title">Pizzeria del Corso</div>
        <div class="brand-sub">Four √† bois ¬∑ Pizze de caract√®re</div>
      </div>
    </header>

    <!-- INTRO -->
    <section class="intro">
      <div class="badge">Menu du jour</div>
      <h1>Les pizze de la <span>Maison</span></h1>
      <p>
        P√¢te √† longue maturation, ingr√©dients choisis, cuisson au feu de bois.
        Scannez le QR code au comptoir ou √† table pour revenir sur ce menu.
      </p>
      <div class="info-row">
        <span>‚úî Entr√©es √† partager</span>
        <span>‚úî Pizze cr√©atives</span>
        <span>‚úî V√©g√©tarien & gourmand</span>
      </div>
    </section>

    <!-- CONTROLLI -->
    <section class="controls">
      <h2>Filtrer</h2>
      <p>Choisissez une cat√©gorie ou cherchez un ingr√©dient (ex: ‚Äúpistache‚Äù, ‚Äúbufflonne‚Äù).</p>
      <div class="filters">
        <button class="filter-btn active" data-filter="all">Tout</button>
        <button class="filter-btn" data-filter="entrees">Entr√©es</button>
        <button class="filter-btn" data-filter="pizze">Pizze</button>
        <button class="filter-btn" data-filter="veg">V√©g√©tarien</button>
        <button class="filter-btn" data-filter="hot">√âpic√©</button>
        <button class="filter-btn" data-filter="new">Nouveaut√©s</button>
      </div>
      <div class="search-box">
        <span class="search-icon">üîç</span>
        <input id="searchInput" type="text" placeholder="Rechercher...">
      </div>
      <label class="admin-toggle">
        <input type="checkbox" id="adminToggle">
        Mode gestion (montrer les pizzas non disponibles)
      </label>
    </section>

    <!-- MENU -->
    <section>
      <div class="section-label">Entr√©es</div>
      <div class="divider"></div>
      <div id="entreesList" class="menu-list"></div>

      <div class="section-label" style="margin-top:20px;">Pizze</div>
      <div class="divider"></div>
      <div id="pizzeList" class="menu-list"></div>
    </section>

    <!-- FOOTER -->
    <footer>
      <div><strong>Pizzeria del Corso</strong> ‚Äì Adresse √† compl√©ter</div>
      <div>Mar‚ÄìSam : 12h‚Äì14h ¬∑ 19h‚Äì22h ¬∑ Dimanche soir ¬∑ Lundi ferm√©</div>
      <div>Sur place ¬∑ √Ä emporter</div>
    </footer>
  </div>

  <script>
    // ====== DATI MENU =====================================================
    const menuItems = [
      // ENTR√âE
      {
        category: "entrees",
        name: "Assortissement de mini pizze fritte",
        description: "Au plaisir du Chef.",
        price: "",
        veg: false,
        hot: false,
        tags: ["new"],
        image: ""
      },

      // PIZZE
      {
        category: "pizze",
        name: "Margherita",
        description: "Sauce tomate, huile extra vierge d‚Äôolive, mozzarella, parmesan, basilic. (Option possible avec croute farcie de ricotta fraiche).",
        price: "",
        veg: true,
        hot: false,
        tags: [],
        image: ""
      },
      {
        category: "pizze",
        name: "Myl√®ne",
        description: "Ricotta au pesto de basilic, courgettes, mozzarella, huile extra vierge d‚Äôolive, prosciutto crudo, basilic et copeaux de pecorino romano.",
        price: "",
        veg: false,
        hot: false,
        tags: [],
        image: ""
      },
      {
        category: "pizze",
        name: "Fleur & Bonheur",
        description: "Fleurs de courgettes en double consistance, mozzarella de bufflonne, basilic et pecorino.",
        price: "",
        veg: true,
        hot: false,
        tags: [],
        image: ""
      },
      {
        category: "pizze",
        name: "Maradona",
        description: "Mozzarella, saucisse de Savoie, cimes de r√¢pes (friarielli).",
        price: "",
        veg: false,
        hot: false,
        tags: [],
        image: ""
      },
      {
        category: "pizze",
        name: "Brontolona",
        description: "Pesto de pistache de Bronte*, mozzarella, prosciutto cotto aux herbes et stracciatella de buflonne.",
        price: "",
        veg: false,
        hot: false,
        tags: ["new"],
        image: ""
      },
      {
        category: "pizze",
        name: "Nocina",
        description: "Cr√®me de noix, mozzarella di bufflonne, gorgonzola √† la cuill√®re, parmesan et basilic.",
        price: "",
        veg: true,
        hot: false,
        tags: ["new"],
        image: ""
      },
      {
        category: "pizze",
        name: "Tartufona",
        description: "Cr√®me d‚Äôasperges, mozzarella, guanciale, huile extra vierge d‚Äôolive √† la truffe, basilic et copeaux de parmesain.",
        price: "",
        veg: false,
        hot: false,
        tags: [],
        image: ""
      },
      {
        category: "pizze",
        name: "Carbonara",
        description: "Carbo-creme, mozzarella, guanciale di Norcia, pecorino romano.",
        price: "",
        veg: false,
        hot: false,
        tags: [],
        image: ""
      },
      {
        category: "pizze",
        name: "Belle au bois dormant",
        description: "Crema di parmigiano, champignon de saison, gorgonzola doux, mozzarella de bouflonne, basilic.",
        price: "",
        veg: true,
        hot: false,
        tags: [],
        image: ""
      },
      {
        category: "pizze",
        name: "Parmigiana 2.0",
        description: "Tomates confites ou pesto rosso, mozzarella, aubergines frittes, copeaux de parmesan et basilic.",
        price: "",
        veg: true,
        hot: false,
        tags: [],
        image: ""
      },
      {
        category: "pizze",
        name: "Mezza Luna",
        description: "Calzone ricotta, jambon cruit ou cru, mozzarella, parmesan.",
        price: "",
        veg: false,
        hot: false,
        tags: [],
        image: ""
      }
    ];

    // ====== DISPONIBILIT√Ä (localStorage) ==================================
    const AVAIL_KEY = "pdc-availability-v2";
    let availability = {};
    let adminMode = false;
    let currentFilter = "all";
    let searchTerm = "";

    const entreesList = document.getElementById("entreesList");
    const pizzeList = document.getElementById("pizzeList");
    const filterButtons = document.querySelectorAll(".filter-btn");
    const searchInput = document.getElementById("searchInput");
    const adminToggle = document.getElementById("adminToggle");

    function loadAvailability(){
      try{
        const raw = localStorage.getItem(AVAIL_KEY);
        if(raw){
          availability = JSON.parse(raw);
        }
      }catch(e){
        availability = {};
      }
    }

    function saveAvailability(){
      try{
        localStorage.setItem(AVAIL_KEY, JSON.stringify(availability));
      }catch(e){}
    }

    function isAvailable(item){
      if(Object.prototype.hasOwnProperty.call(availability,item.name)){
        return !!availability[item.name];
      }
      return true; // default = disponibile
    }

    // ====== FILTRI & RICERCA ===============================================
    filterButtons.forEach(btn=>{
      btn.addEventListener("click",()=>{
        filterButtons.forEach(b=>b.classList.remove("active"));
        btn.classList.add("active");
        currentFilter = btn.dataset.filter;
        renderMenu();
      });
    });

    searchInput.addEventListener("input",e=>{
      searchTerm = e.target.value.toLowerCase();
      renderMenu();
    });

    adminToggle.addEventListener("change",e=>{
      adminMode = e.target.checked;
      renderMenu();
    });

    function passFilter(item){
      if(currentFilter==="all") return true;
      if(currentFilter==="entrees") return item.category==="entrees";
      if(currentFilter==="pizze") return item.category==="pizze";
      if(currentFilter==="veg") return item.veg;
      if(currentFilter==="hot") return item.hot;
      if(currentFilter==="new") return item.tags && item.tags.includes("new");
      return true;
    }

    function passSearch(item){
      if(!searchTerm) return true;
      const text = (item.name+" "+item.description).toLowerCase();
      return text.includes(searchTerm);
    }

    // ====== RENDER =========================================================
    function createItemCard(item){
      const available = isAvailable(item);
      if(!adminMode && !available) return null;  // nascosta ai clienti

      const el = document.createElement("article");
      el.className = "item";
      if(!available) el.classList.add("unavailable");

      const nameRow = document.createElement("div");
      nameRow.className = "name-row";

      const nameEl = document.createElement("div");
      nameEl.className = "name";
      nameEl.textContent = item.name;

      const priceEl = document.createElement("div");
      priceEl.className = "price";
      priceEl.textContent = item.price || "";

      nameRow.appendChild(nameEl);
      nameRow.appendChild(priceEl);

      const desc = document.createElement("div");
      desc.className = "desc";
      desc.textContent = item.description;

      const tagsRow = document.createElement("div");
      tagsRow.className = "tags";

      if(item.veg){
        const t=document.createElement("span");
        t.className="tag veg";
        t.textContent="V√©g√©tarien";
        tagsRow.appendChild(t);
      }
      if(item.hot){
        const t=document.createElement("span");
        t.className="tag hot";
        t.textContent="√âpic√©";
        tagsRow.appendChild(t);
      }
      if(item.tags && item.tags.includes("new")){
        const t=document.createElement("span");
        t.className="tag new";
        t.textContent="Nouveau";
        tagsRow.appendChild(t);
      }

      el.appendChild(nameRow);
      el.appendChild(desc);
      if(tagsRow.children.length) el.appendChild(tagsRow);

      if(adminMode){
        const adminBar = document.createElement("div");
        adminBar.className = "admin-bar";

        const state = document.createElement("span");
        state.textContent = available ? "Disponible aujourd‚Äôhui" : "Non disponible";

        const btn = document.createElement("button");
        btn.textContent = available ? "Mettre non dispo" : "Remettre en menu";

        btn.addEventListener("click",()=>{
          availability[item.name] = !available;
          saveAvailability();
          renderMenu();
        });

        adminBar.appendChild(state);
        adminBar.appendChild(btn);
        el.appendChild(adminBar);
      }

      return el;
    }

    function renderMenu(){
      entreesList.innerHTML = "";
      pizzeList.innerHTML = "";

      menuItems
        .filter(item => passFilter(item) && passSearch(item))
        .forEach(item=>{
          const card = createItemCard(item);
          if(!card) return;
          if(item.category==="entrees") entreesList.appendChild(card);
          if(item.category==="pizze") pizzeList.appendChild(card);
        });
    }

    loadAvailability();
    renderMenu();
  </script>
</body>
</html>
